(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),r=a(21),d=a.n(r),n=(a(27),a(13)),i=a(2),o=(a(28),a(29),a(30),a(8)),l=a(15),j=a(3),u=a(7),b=[{type:"All",id:Math.random()},{type:"Work",id:Math.random()},{type:"Personal",id:Math.random()},{type:"School",id:Math.random()}],O=a(0),f=function(e){var t=e.inputText,a=e.setInputText,c=(e.title,e.setTitle),s=e.card,r=e.cards,d=e.setCards;return Object(O.jsxs)("form",{className:"card-form",onSubmit:function(e){e.preventDefault(),0!==t.length&&(d(r.map((function(e){return e.id===s.id?Object(j.a)(Object(j.a)({},e),{},{todos:[].concat(Object(l.a)(s.todos),[{text:t,completed:!1,id:Math.random()}])}):e}))),new u.a("Todo added!",u.a.TYPE_DONE),a(""))},children:[Object(O.jsx)("input",{disabled:s.isSaved,className:"card-form-title",type:"text",value:s.title,placeholder:"Title",onChange:function(e){c(e.target.value),d(r.map((function(t){return t.id===s.id?Object(j.a)(Object(j.a)({},t),{},{title:e.target.value}):t})))}}),Object(O.jsx)("select",{disabled:s.isSaved,value:s.category,onChange:function(e){d(r.map((function(t){return t.id===s.id?Object(j.a)(Object(j.a)({},t),{},{category:e.target.value}):t})))},children:b.map((function(e){return Object(O.jsx)("option",{value:e.type,children:e.type},Math.random())}))}),!s.isSaved&&Object(O.jsxs)("div",{className:"card-form-new",children:[Object(O.jsx)("input",{type:"text",onChange:function(e){a(e.target.value)},value:t,placeholder:"What to do?",required:!0}),Object(O.jsx)("button",{className:"btn btn-dark",children:Object(O.jsx)("i",{className:"fas fa-plus square"})})]})]})},m=function(e){var t=e.card,a=e.cards,c=e.setCards,s=e.todo;return Object(O.jsxs)("div",{className:"card-todos-todo",children:[Object(O.jsx)("li",{className:s.completed?"card-todos-todo-completed":"",children:s.text}),Object(O.jsxs)("div",{className:"card-todos-todo-buttons",children:[Object(O.jsx)("button",{disabled:t.isSaved,onClick:function(){c(a.map((function(e){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{todos:e.todos.map((function(e){return e.id===s.id?Object(j.a)(Object(j.a)({},e),{},{completed:!e.completed}):e}))}):e})))},children:Object(O.jsx)("i",{className:s.completed?"far fa-check-square":"far fa-square"})}),Object(O.jsx)("button",{disabled:t.isSaved,onClick:function(){c(a.map((function(e){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==s.id}))}):e}))),new u.a("Todo deleted!",u.a.TYPE_ERROR)},children:Object(O.jsx)("i",{className:"fas fa-trash"})})]})]})},h=function(e){var t=e.card,a=e.cards,c=e.setCards;e.todos,e.setTodos;return Object(O.jsx)("div",{className:"card-todos",children:t.todos.length>0?Object(O.jsx)("ul",{children:t.todos.map((function(e){return Object(O.jsx)(m,{card:t,cards:a,setCards:c,todo:e},e.id)}))}):Object(O.jsx)("p",{className:"",children:"There are no todos..."})})},x=function(e){var t=e.setCards,a=e.cards,c=e.card;return Object(O.jsx)("div",{className:"card-save",children:Object(O.jsx)("button",{className:"btn btn-success",onClick:function(){t(a.map((function(e){return e.id===c.id?Object(j.a)(Object(j.a)({},e),{},{isSaved:!e.isSaved}):e})))},children:"Save"})})},v=function(e){var t=e.isSaved,a=e.setCards,c=e.handleDelete,s=e.cards,r=e.card;return t?Object(O.jsxs)("div",{className:r.isSaved?"card-saved-options":"",children:[Object(O.jsx)("button",{className:"btn btn-dark",onClick:function(){a(s.map((function(e){return e.id===r.id?Object(j.a)(Object(j.a)({},e),{},{isSaved:!e.isSaved}):e})))},children:"Edit"}),Object(O.jsx)("button",{className:"btn btn-dark",onClick:c,children:"Delete"})]}):Object(O.jsx)("div",{})},g=function(e){var t=e.card,a=e.cards,s=e.setCards,r=e.setSelectedCategory,d=Object(c.useState)(""),n=Object(o.a)(d,2),i=n[0],l=n[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),m=b[0],g=b[1],C=function(){s(a.filter((function(e){return e.id!==t.id}))),new u.a("Card deleted!",u.a.TYPE_ERROR)};return Object(O.jsxs)("div",{className:t.isSaved?"card card-saved":"card",children:[Object(O.jsx)(v,{isSaved:t.isSaved,handleDelete:C,setCards:s,cards:a,card:t}),Object(O.jsxs)("div",{className:t.isSaved?"card-hide":"",children:[Object(O.jsx)(f,{setInputText:l,inputText:i,title:m,setTitle:g,card:t,cards:a,setCards:s,setSelectedCategory:r}),Object(O.jsx)(h,{card:t,cards:a,setCards:s}),!t.isSaved&&Object(O.jsx)("span",{className:"card-delete",onClick:C,children:Object(O.jsx)("i",{className:"fas fa-trash"})}),!t.isSaved&&Object(O.jsx)(x,{setCards:s,cards:a,card:t})]})]})},C=function(e){var t=e.cards,a=e.setCards,c=e.setSelectedCategory;return Object(O.jsxs)("div",{className:"card card-add",children:[Object(O.jsx)("h1",{className:"card-add-title",children:"New Project"}),Object(O.jsxs)("button",{className:"card-add-button btn btn-dark",onClick:function(){c("All"),a([].concat(Object(l.a)(t),[{id:Math.random(),title:"",todos:[],category:"All",isSaved:!1}])),new u.a("Card added!",u.a.TYPE_DONE)},children:[Object(O.jsx)("i",{className:"fas fa-plus"})," CREATE"]})]})},p=function(e){var t=e.cards,a=e.setCards,c=e.filteredCards,s=e.setFilteredCards,r=e.setSelectedCategory;return Object(O.jsxs)("div",{className:"main",children:[c.map((function(e){return Object(O.jsx)(g,{card:e,cards:t,filteredCards:c,setCards:a,setSelectedCategory:r},e.id)})),Object(O.jsx)(C,{cards:t,setCards:a,filteredCards:c,setFilteredCards:s,setSelectedCategory:r})]})},S=function(e){var t=e.category,a=e.filterCategories,c=e.selectedCategory,s=e.cards,r=0;return s.forEach((function(e){e.category===t.type&&r++})),Object(O.jsxs)("div",{className:"sidebar-categories-category",onClick:function(e,c){return a(e,t.type)},children:[Object(O.jsxs)("li",{children:[t.type," ","All"!==t.type&&"(".concat(r,")")]}),Object(O.jsx)("button",{children:Object(O.jsx)("i",{className:c===t.type?"far fa-check-square":"far fa-square"})})]})},y=function(e){var t=e.cards,a=e.setFilteredCards,c=e.selectedCategory,s=e.setSelectedCategory,r=function(e,c){s(c),a("All"===c?t:t.filter((function(e){return e.category===c})))};return Object(O.jsx)("ul",{className:"sidebar-categories",children:b.map((function(e){return Object(O.jsx)(S,{category:e,cards:t,setFilteredCards:a,filterCategories:r,selectedCategory:c},e.id)}))})},N=function(e){var t=e.user,a=e.cards,c=e.setFilteredCards,s=e.selectedCategory,r=e.setSelectedCategory;return Object(O.jsxs)("div",{className:"sidebar",children:[Object(O.jsxs)("div",{className:"sidebar-info",children:[Object(O.jsx)("div",{className:"sidebar-info-image",children:Object(O.jsx)("i",{className:" far fa-user fa-5x"})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:t.name&&(t.name.length<12?t.name:t.name.substr(0,12)+"...")}),Object(O.jsx)("p",{children:t.surname&&(t.surname.length<12?t.surname:t.surname.substr(0,12)+"...")})]})]}),Object(O.jsx)(y,{cards:a,setFilteredCards:c,selectedCategory:s,setSelectedCategory:r})]})},T=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)([]),d=Object(o.a)(r,2),n=d[0],l=d[1],j=Object(c.useState)({}),u=Object(o.a)(j,2),b=u[0],f=u[1],m=Object(c.useState)("All"),h=Object(o.a)(m,2),x=h[0],v=h[1];Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));f(e),C()}),[]),Object(c.useEffect)((function(){l("All"===x?a:a.filter((function(e){return e.category===x}))),g(a)}),[a,x]);var g=function(){localStorage.setItem("cards",JSON.stringify(a))},C=function(){if(null===localStorage.getItem("cards"))localStorage.setItem("cards",JSON.stringify([]));else{var e=JSON.parse(localStorage.getItem("cards"));s(e)}};return null===b?Object(O.jsx)(i.a,{to:"/login"}):Object(O.jsxs)("div",{className:"home",children:[Object(O.jsx)(N,{user:b,cards:a,setFilteredCards:l,selectedCategory:x,setSelectedCategory:v}),Object(O.jsx)(p,{className:"main",filteredCards:n,cards:a,setFilteredCards:l,setCards:s,selectedCategory:x,setSelectedCategory:v})]})},k=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(""),d=Object(o.a)(r,2),n=d[0],l=d[1],j=Object(c.useState)(!1),u=Object(o.a)(j,2),b=u[0],f=u[1];return b?Object(O.jsx)(i.a,{to:"/"}):Object(O.jsx)("div",{className:"login",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),localStorage.setItem("user",JSON.stringify({name:a.trim(),surname:n.trim()})),f(!0)},children:[Object(O.jsx)("label",{htmlFor:"name",children:"Name"}),Object(O.jsx)("input",{type:"text",value:a,onChange:function(e){s(e.target.value)},required:!0}),Object(O.jsx)("label",{htmlFor:"name",children:"Surname"}),Object(O.jsx)("input",{type:"text",value:n,onChange:function(e){l(e.target.value)},required:!0}),Object(O.jsx)("button",{children:"Login"})]})})};var E=function(){return Object(O.jsx)(n.a,{children:Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.b,{exact:!0,path:"/",children:Object(O.jsx)(T,{})}),Object(O.jsx)(i.b,{path:"/login",children:Object(O.jsx)(k,{})})]})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,38)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,d=t.getTTFB;a(e),c(e),s(e),r(e),d(e)}))};d.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(E,{})}),document.getElementById("root")),F()}},[[37,1,2]]]);
//# sourceMappingURL=main.6dbfcff7.chunk.js.map